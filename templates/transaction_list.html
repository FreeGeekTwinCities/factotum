<script type="text/javascript" charset="utf-8" language="javascript" src="{baseURL}/static/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" charset="utf-8" language="javascript" src="{baseURL}/static/js/DT_bootstrap.js"></script>
<h2>Transactions</h2>

<p><a href="{baseURL}/transaction/add">New Transaction</a></p>

{?transactions}
  <h3>Recent Transactions:</h3>
  <table class="table table-striped table-bordered" id="data">
  <thead><tr><th>Date</th><th>Customer</th><th>Type</th></tr></thead>
	{#transactions}
	    <tr>
	        <td>
	            {?value.date}
		            <script>var transaction_date = new Date([{value.date}]); document.write(transaction_date.toLocaleDateString())</script> 
        	    {:else}
		            <script>var d = new Date({value.audit.createdTime}); document.write(d.toDateString());</script>
        	    {/value.date}
            </td>
	        <td>{value.party.name}</td> 
	        <td>{value.transaction_type}</td>
	    </tr>
  	{/transactions}
  </table>
{:else}
  <p>No transactions.</p>
{/transactions}
